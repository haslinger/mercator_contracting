<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>Vertragswesen</title>
    <!-- CSS -->
    <link rel="stylesheet" href="css/normalize.css">
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="css/bootstrap.min.css">
    <link rel="stylesheet" href="css/bootstrap-theme.css">
  </head>
  <body>
    <!-- TEMLATES -->
    <script type="text/x-handlebars">
      <h1>Vertragswesen</h1>

      {{outlet}}
    </script>

    <script type="text/x-handlebars" data-template-name="contracts">
      <h2> Verträge </h2>

      <table class="table table-striped table-bordered table-hover table-condensed">
        <thead>
          <tr class="info">
            <th>ID</th>
            <th>Laufzeit</th>
            <th>Vertragsbeginn</th>
            <th>Vertragsende</th>
            <th>Vertrag angelegt</th>
            <th>Vertrag zuletzt aktualisiert</th>
          </th>
        </thead>

        <tbody>
          {{#each}}
            {{contract-tableline item=this}}
          {{/each}}
        </tbody>
      </table>
    </script>

    <script type="text/x-handlebars" data-template-name="contract">
      <h2> Vertrag </h2>

      <table class="table table-striped table-bordered table-hover table-condensed">
        <thead>
          <tr class="danger">
            <th>Vertrag</th>
            <th>Laufzeit</th>
            <th>Vertragsbeginn</th>
            <th>Vertragsende</th>
            <th>Vertrag angelegt</th>
            <th>Vertrag zuletzt aktualisiert</th>
          </th>
        </thead>

        <tbody>
          {{contract-tableline item=this}}
        </tbody>

        <thead>
          <tr class="danger">
            <th>Position</th>
            <th>Laufzeit</th>
            <th>Vertragsbeginn</th>
            <th>Vertragsende</th>
            <th>Artikelnummer</th>
            <th>Beschreibung</th>
            <th>Beschreibung (EN)</th>
            <th>Menge</th>
            <th>Druckvolumen S/W</th>
            <th>Druckvolumen Farbe</th>
            <th>Produktpreis</th>
            <th>Marge</th>
            <th>Mehrwertsteuer</th>
            <th>Positionswert</th>
            <th>Rabatt absolut </th>
            <th>Monitoring </th>
            <th>Position angelegt</th>
            <th>Position zuletzt aktualisiert</th>
          </th>
        <tbody>
          {{#each item in contractItems}}
            {{contractitem-tableline item=item}}
          {{/each}}
        </tbody>
        </thead>
      </table>

      <div class="btn-group">
        {{#link-to 'contracts' class="btn btn-info btn-sm"}}
          <span class="glyphicon glyphicon-zoom-out">
        {{/link-to}}
        {{#link-to 'contracts' class="btn btn-info btn-sm"}}
        alle Verträge
        {{/link-to}}
      </div>
    </script>

    <script type="text/x-handlebars" data-template-name="contractItem">
      <h2> Vertragsposition </h2>

      <table class="table table-striped table-bordered table-hover table-condensed">
        <thead>
          <tr class="danger">
            <th>Position</th>
            <th>Laufzeit</th>
            <th>Vertragsbeginn</th>
            <th>Vertragsende</th>
            <th>Artikelnummer</th>
            <th>Beschreibung</th>
            <th>Beschreibung (EN)</th>
            <th>Menge</th>
            <th>Druckvolumen S/W</th>
            <th>Druckvolumen Farbe</th>
            <th>Produktpreis</th>
            <th>Marge</th>
            <th>Mehrwertsteuer</th>
            <th>Positionswert</th>
            <th>Rabatt absolut </th>
            <th>Monitoring </th>
            <th>Position angelegt</th>
            <th>Position zuletzt aktualisiert</th>
          </th>
        </thead>
        <tbody>
          {{contractitem-tableline item=this}}
        </tbody>
      </table>

      <table class="table table-striped table-bordered table-hover table-condensed">
        <thead>
          <tr>
            <th colspan=13></th>
            <th colspan=6 class="danger">Verbrauch Jahr</th>
            <th colspan=5 class="danger">Neuberechnung Jahr</th>
            <th colspan=6 class="danger">Gutschrift / Nachzahlung Jahr</th>
          <tr class="danger">
            <th>Position</th>
            <th>Vertragsart</th>
            <th>Artikelnummer</th>
            <th>Produktlinie</th>
            <th>Beschreibung</th>
            <th>Beschreibung (EN)</th>
            <th>Menge Gesamt</th>
            <th>Reichweite</th>
            <th>HEK</th>
            <th>Preis / Stück</th>
            <th>Preis / Total</th>
            <th>Rate p.m.</th>
            <th>Laufzeit</th>
            <th>1</th>
            <th>2</th>
            <th>3</th>
            <th>4</th>
            <th>5</th>
            <th>6</th>
            <th>2</th>
            <th>3</th>
            <th>4</th>
            <th>5</th>
            <th>6</th>
            <th>1</th>
            <th>2</th>
            <th>3</th>
            <th>4</th>
            <th>5</th>
            <th>6</th>
          </th>
        <tbody>
          {{#each item in consumableItems}}
            {{consumableitem-tableline item=item}}
          {{/each}}
        </tbody>
        </thead>
      </table>

      <div class="btn-group">
        {{#link-to 'contract' this.contract.id class="btn btn-info btn-sm"}}
          <span class="glyphicon glyphicon-zoom-out">
        {{/link-to}}
        {{#link-to 'contract' this.contract.id class="btn btn-info btn-sm"}}
        Vertrag {{this.contract.id}}
        {{/link-to}}
      </div>
    </script>

    <script type="text/x-handlebars" id="components/contract-tableline">
      <td>
        {{#link-to 'contract' item.id}}
          <span class="glyphicon glyphicon-zoom-in">{{item.id}}
        {{/link-to}}
      </td>
      <td class="success">{{item.term}} Monate</td>
      <td class="success">{{format_date item.startdate}}</td>
      <td class="success">{{format_date item.enddate}}</td>
      <td class="success">{{format_datetime item.createdAt}}</td>
      <td class="success">{{format_datetime item.updatedAt}}</td>
    </script>

    <script type="text/x-handlebars" id="components/contractitem-tableline">
      <td>
        {{#link-to 'contractItem' item.id}}
          <span class="glyphicon glyphicon-zoom-in">{{item.position}}
        {{/link-to}}
      </td>
      <td class="success">{{input type="text" value=item.term size=1}} Monate</td>
      <td class="success">{{format_date item.startdate}}</td>
      <td class="success">{{format_date item.enddate}}</td>
      <td class="info">{{item.productNumber}}</td>
      <td class="info">{{item.descriptionDe}}</td>
      <td class="info">{{item.descriptionEn}}</td>
      <td class="warning">{{item.amount}} {{item.unit}}</td>
      <td class="info">{{item.volumeBW}} Seiten</td>
      <td class="info">{{item.volumeColor}}  Seiten</td>
      <td class="warning">{{format_currency item.productPrice}}</td>
      <td class="warning">{{input type="text" value=item.marge size=1}}%</td>
      <td class="warning">{{item.vat}}%</td>
      <td class="warning">{{format_currency item.value}}</td>
      <td class="warning">{{format_currency item.discountAbs}}</td>
      <td class="warning">{{format_currency item.monitoringRate}}</td>
      <td class="success">{{format_datetime item.createdAt}}</td>
      <td class="success">{{format_datetime item.updatedAt}}</td>
    </script>

    <script type="text/x-handlebars" id="components/consumableitem-tableline">
      <td>{{item.position}}</td>
      <td class="info">{{item.contractType}}</td>
      <td class="info">{{item.productNumber}}</td>
      <td class="info">{{item.productLine}}</td>
      <td class="info">{{item.descriptionDe}}</td>
      <td class="info">{{item.descriptionEn}}</td>
      <td class="warning">{{item.amount}} Stk.</td>
      <td class="info">{{item.yield}} Seiten</td>
      <td class="warning">{{input type="text" value=item.wholesalePrice size=1}} EUR</td>
      <td class="warning">{{format_currency item.price}}</td>
      <td class="warning">{{format_currency item.value}}</td>
      <td class="warning">{{format_currency item.monthlyRate}}</td>
      <td class="success">{{input type="text" value=item.term size=1}} Monate</td>
      <td class="warning">{{input type="text" value=item.consumption1 size=1}} Stk.</td>
      <td class="warning">{{input type="text" value=item.consumption2 size=1}} Stk.</td>
      <td class="warning">{{input type="text" value=item.consumption3 size=1}} Stk.</td>
      <td class="warning">{{input type="text" value=item.consumption4 size=1}} Stk.</td>
      <td class="warning">{{input type="text" value=item.consumption5 size=1}} Stk.</td>
      <td class="warning">{{input type="text" value=item.consumption6 size=1}} Stk.</td>
      <td class="success">{{format_currency item.newRate2}}</td>
      <td class="success">{{format_currency item.newRate3}}</td>
      <td class="success">{{format_currency item.newRate4}}</td>
      <td class="success">{{format_currency item.newRate5}}</td>
      <td class="success">{{format_currency item.newRate6}}</td>
      <td class="warning">{{format_currency item.balance1}}</td>
      <td class="warning">{{format_currency item.balance2}}</td>
      <td class="warning">{{format_currency item.balance3}}</td>
      <td class="warning">{{format_currency item.balance4}}</td>
      <td class="warning">{{format_currency item.balance5}}</td>
      <td class="warning">{{format_currency item.balance6}}</td>
    </script>

    <!-- JAVASCRIPT -->
    <script src="js/libs/jquery-1.10.2.js"></script>
    <script src="js/libs/handlebars-1.1.2.js"></script>
    <script src="js/libs/ember.js"></script>
    <script src="js/libs/ember-data.js"></script>
    <script src="js/libs/moment-with-langs-2.6.0.js"></script>
    <script src="js/libs/bootstrap.min.js"></script>
    <script src="js/app.js"></script>
    <!-- to activate the test runner, add the "?test" query string parameter -->
    <script src="tests/runner.js"></script>
  </body>
</html>